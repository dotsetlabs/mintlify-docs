---
title: watch
description: 'Start monitoring MCP activity'
---

# deadfall watch

Start monitoring MCP server activity and detect anomalies in real-time.

## Usage

```bash
deadfall watch [options]
```

## Options

| Option | Description | Default |
|:-------|:------------|:--------|
| `-c, --config <file>` | Path to config file | `./deadfall.yaml` |
| `-s, --server <name>` | Monitor specific server | All configured |
| `--baseline <mode>` | Baseline mode: `auto`, `manual`, `none` | `auto` |
| `--alert-level <level>` | Minimum alert severity | `medium` |
| `-q, --quiet` | Suppress non-alert output | `false` |
| `--daemon` | Run as background daemon | `false` |

## Examples

### Basic Monitoring

```bash
# Start monitoring with default config
deadfall watch

# Monitor a specific server
deadfall watch -s postgres-mcp
```

### With Custom Config

```bash
# Use a specific config file
deadfall watch -c /etc/deadfall/production.yaml
```

### Background Daemon

```bash
# Run as daemon
deadfall watch --daemon

# Check status
deadfall status
```

## Output

During monitoring, Deadfall displays real-time activity:

```
$ deadfall watch

Deadfall Activity Monitor
=========================
Monitoring: postgres-mcp, filesystem-mcp
Baseline: Learning (2/60 minutes)

14:32:01 [postgres]  query           SELECT * FROM users LIMIT 10
14:32:15 [postgres]  query           SELECT * FROM orders WHERE...

14:32:42 [ALERT] volume_spike
         Server: postgres-mcp
         Activity: 47x normal query volume
         Severity: HIGH
         â†’ Slack notification sent
```

## Baseline Learning

When `baseline: auto` is set, Deadfall learns normal activity patterns:

1. **Learning Phase** (default: 60 minutes)
   - Observes all activity without alerting
   - Builds statistical model of normal behavior

2. **Monitoring Phase**
   - Compares activity against baseline
   - Alerts on significant deviations

```bash
# Skip learning, use existing baseline
deadfall watch --baseline manual

# No baseline (threshold-only detection)
deadfall watch --baseline none
```

## Signal Handling

| Signal | Behavior |
|:-------|:---------|
| `SIGINT` (Ctrl+C) | Graceful shutdown |
| `SIGHUP` | Reload configuration |
| `SIGUSR1` | Dump current stats |

## Exit Codes

| Code | Meaning |
|:-----|:--------|
| `0` | Normal exit |
| `1` | Configuration error |
| `2` | Connection error |
| `3` | Fatal runtime error |
