---
title: Best Practices
description: 'Security best practices for using mantle'
---

# Security Best Practices

Follow these guidelines to maximize your security.

## Secret Hygiene

### Use Environment Variables in CI

Most CI/CD systems (GitHub Actions, GitLab CI, CircleCI) have built-in secret management. Store your secrets there:

```yaml
# GitHub Actions
env:
  DATABASE_URL: ${{ secrets.DATABASE_URL }}
  API_KEY: ${{ secrets.API_KEY }}
```

Mantle will automatically detect and protect these environment variables.

### Use .env Files Locally

For local development, use `.env` files:

```bash
# .env.development
DATABASE_URL=postgres://localhost/myapp_dev
API_KEY=dev-api-key
```

<Warning>
Never commit `.env` files with real secrets to version control. Add them to `.gitignore`.
</Warning>

### Rotate Regularly

Rotate your secrets periodically and update them in your secret storage (CI secrets, AWS SM, etc.).

## CI/CD Security

### Use Redact Mode

```bash
mantle run --mode redact -- npm test
```

### Use Quiet Mode in CI

```bash
mantle run --mode redact --quiet -- npm test
```

## Audit Your Logs

### Check for Exposures

```bash
# Run with detect mode to audit
mantle run --mode detect -- npm start
```

### Review CI Logs

After enabling mantle, review your existing CI logs for any historical exposure.

## Defense in Depth

Mantle is one layer of protection. Also consider:

| Layer | Tool |
|-------|------|
| Secrets in code | GitLeaks, TruffleHog |
| Runtime protection | Dotset Mantle |
| Log monitoring | GitGuardian, Datadog |
| Access control | IAM, RBAC |

## Incident Response

If you suspect a secret leak:

1. **Rotate immediately** — Generate new credentials
2. **Revoke old secrets** — Invalidate compromised tokens
3. **Audit access** — Check logs for unauthorized use
4. **Update mantle** — Ensure the new secret is protected

## Reporting Issues

Security issues should be reported to:

**hello@dotsetlabs.com**

We follow responsible disclosure practices.
