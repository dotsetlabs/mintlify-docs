---
title: start
description: 'Start Tollgate proxy with full configuration'
---

# tollgate start

Starts the Tollgate proxy for a configured MCP server with full policy control.

## Usage

```bash
tollgate start [options]
```

## Options

| Option | Description | Default |
|--------|-------------|---------|
| `-s, --server <name>` | Server name from config **(required)** | - |
| `-c, --config <path>` | Path to tollgate.yaml config file | `./tollgate.yaml` |
| `--audit-path <path>` | Custom path for audit database | `~/.dotset/tollgate.db` |
| `--timeout <ms>` | Approval timeout in milliseconds | `60000` |
| `--approval <method>` | Approval method: `terminal` or `interactive` | `terminal` |
| `--approval-port <port>` | Port for interactive approval UI | `9847` |
| `--persist-sessions` | Persist session grants to disk | - |
| `--session-path <path>` | Path for persistent session database | `~/.tollgate/sessions.db` |
| `--dry-run` | Evaluate policies without executing tools | - |
| `--failure-mode <mode>` | Behavior when upstream fails | `fail-closed` |

## Examples

### Basic Usage

```bash
# Start proxy for 'postgres' server from config
tollgate start -s postgres

# Use custom config path
tollgate start -s postgres -c ~/configs/tollgate.yaml
```

### With Options

```bash
# Start with custom timeout
tollgate start -s postgres --timeout 120000

# Start with fail-readonly mode
tollgate start -s filesystem --failure-mode fail-readonly
```

### Dry Run Mode

```bash
# Test policies without executing tools
tollgate start -s postgres --dry-run
```

### Interactive Approval UI

```bash
# Use web-based approval UI instead of terminal prompts
tollgate start -s postgres --approval interactive

# Open http://localhost:9847 to approve requests in your browser
# Use custom port
tollgate start -s postgres --approval interactive --approval-port 3000
```

### Persistent Sessions

```bash
# Session grants survive restarts
tollgate start -s postgres --persist-sessions

# Use custom session database path
tollgate start -s postgres --persist-sessions --session-path ./data/sessions.db
```

## Configuration File

The `start` command requires a `tollgate.yaml` configuration file. Create one with:

```bash
tollgate init
```

### Example Configuration

```yaml
version: "1"

defaults:
  action: prompt
  timeout: 60000

servers:
  postgres:
    command: "npx"
    args: ["-y", "@modelcontextprotocol/server-postgres"]
    env:
      DATABASE_URL: "${DATABASE_URL}"
    tools:
      "query":
        action: allow
      "execute":
        action: prompt
        analyzer: sql
      "*":
        action: deny

  filesystem:
    command: "npx"
    args: ["-y", "@anthropic/mcp-server-filesystem", "./src"]
    tools:
      "read_*":
        action: allow
      "write_*":
        action: prompt
      "delete_*":
        action: deny
```

## Server Selection

The `-s/--server` option must match a server name defined in your config:

```yaml
servers:
  postgres:      # Use: tollgate start -s postgres
    ...
  filesystem:    # Use: tollgate start -s filesystem
    ...
```

## When to Use

**Use `start` when:**
- You need per-tool policies
- Using smart content analyzers (SQL, filesystem, shell)
- Running in production environments
- Managing multiple MCP servers with different policies

**Use `wrap` when:**
- Quick testing without config files
- Uniform policy for all tools
- One-off commands
