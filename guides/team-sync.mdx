---
title: Team Secret Sharing
description: 'Share encrypted secrets securely with your team'
---

# Team Secret Sharing

How to share encrypted secrets securely with team members.

## How Local Secret Storage Works

Shield stores secrets locally in `.dotset/secrets.enc`, encrypted with a key stored in `.dotset/key`. Team members need both the encrypted file and the key to access secrets.

## Sharing Workflow

### Initial Setup (Project Owner)

1. Initialize encrypted storage:

```bash
dotset secrets init
```

2. Store your secrets:

```bash
dotset secrets set API_KEY "sk-..."
dotset secrets set DATABASE_URL "postgres://..."
```

3. Share the encryption key securely using a password manager like 1Password, Bitwarden, or Vault.

### New Team Member Setup

1. Clone the repository (includes `.dotset/secrets.enc`)

2. Get the encryption key from your team (securely!)

3. Save the key to `.dotset/key`:

```bash
mkdir -p .dotset
echo "your-key-here" > .dotset/key
chmod 600 .dotset/key
```

4. Verify access:

```bash
dotset secrets list
```

<Warning>
**Security First**: Share your encryption key via a password manager (1Password, Bitwarden, Vault). 
Never share it in plaintext channels like Slack or email.
</Warning>

## Updating Secrets

When updating secrets, commit the updated `.dotset/secrets.enc` file:

```bash
# Update the secret
dotset secrets set API_KEY "new-key"

# Commit the encrypted file
git add .dotset/secrets.enc
git commit -m "Update API key"
git push
```

Team members pull and immediately have access (since they have the same key).

## CI/CD Integration

Store the encryption key as a repository secret:

```yaml
# GitHub Actions
env:
  DOTSET_KEY: ${{ secrets.DOTSET_KEY }}
```

Then set the key before running:

```bash
mkdir -p .dotset
echo "$DOTSET_KEY" > .dotset/key
dotset run --mode redact -- npm test
```

## File Structure

| File | Commit? | Purpose |
|------|---------|---------|
| `.dotset/secrets.enc` | ✅ Yes | Encrypted secrets (safe to commit) |
| `.dotset/key` | ❌ No | Encryption key (never commit) |

## Gitignore Setup

Your `.gitignore` should include:

```
# Dotset - never commit the key
.dotset/key
```

<Note>
The encrypted secrets file (`.dotset/secrets.enc`) is safe to commit because it's encrypted with your key.
</Note>
