---
title: 'Crash Replay'
description: 'Reproduce production errors locally by replaying captured requests.'
---

# Overview

Crash Replay (codenamed **Lagrangian**) allows you to capture the exact context of server crashes—including headers, payloads, and environment state—and replay them against your local development environment.

This eliminates the "works on my machine" problem by letting you debug with the exact data that caused the crash in production.

## How it Works

1. **Capture**: When a 5xx error occurs in your application, Gluon captures the request details (method, path, headers, body).
2. **Sync**: The captured event is synced to the Dotset Cloud.
3. **Replay**: You use the CLI or Dashboard to replay the request against your local server.

## Replaying Crashes

You can replay a crash directly from the command line using the event ID found in your dashboard.

```bash
dotset replay <event-id> --cmd "npm start" --port 3000
```

### Options

| Option | Description | Default |
| :--- | :--- | :--- |
| `--cmd` | Command to start the local server | `npm start` |
| `--port` | Local port to send the replay to | `3000` |
| `--scope` | Secrets scope to use | `development` |
| `--delay` | Delay in ms before replaying (to allow server boot) | `2000` |

## Security & Redaction

By default, Gluon redacts sensitive headers (like `Authorization`, `Cookie`) and attempts to detect secrets in request bodies.

You can configure redaction rules in your `.dotset/gluon/config.yaml`:

```yaml
lagrangian:
  enabled: true
  captureBodies: true
  ignoredHeaders:
    - 'authorization'
    - 'cookie'
    - 'x-api-key'
```

<Warning>
  **Body Capture**: Enabling `captureBodies` is required for full replay fidelity, but may capture PII or sensitive data. Ensure your `ignoredHeaders` are configured correctly and consider your data privacy requirements.
</Warning>
