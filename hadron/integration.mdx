---
title: 'Integration'
description: 'Deep integration with Axion and Gluon'
---

# Hadron Integration

Hadron is designed to work seamlessly with Axion (secrets) and Gluon (security).

## The Power of Integration

Instead of setting up separate tools, Hadron leverages the existing dotset ecosystem:

```bash
# One command with full integration
dotset ci build test --scope prod --mode block
```

This single command:
- Loads production secrets from Axion
- Monitors for secret leaks via Gluon
- Runs your CI jobs locally

## Axion Integration

### Automatic Secret Injection

Secrets from your Axion vault are automatically injected into CI jobs:

```yaml
# Your workflow references secrets normally
- name: Deploy
  run: ./deploy.sh
  env:
    API_KEY: ${{ secrets.API_KEY }}
    DB_URL: ${{ secrets.DATABASE_URL }}
```

Hadron resolves `${{ secrets.* }}` references from your Axion vault.

### Environment Scopes

Use the `--scope` flag to select which environment's secrets to use:

```bash
# Development secrets (default)
dotset ci build

# Production secrets
dotset ci deploy --scope prod

# Staging secrets
dotset ci integration-tests --scope staging
```

### Service Scoping

If your project uses service-scoped secrets:

```bash
dotset ci build --scope prod --service api
```

## Gluon Integration

### Leak Detection

Gluon monitors all CI output for accidental secret exposure:

```bash
# Enable monitoring
dotset ci test --mode detect
```

When a secret is detected in output:
```
⚠️ Warning: Secret 'API_KEY' detected in process output at line 47
```

### Protection Modes

| Mode | Behavior | When to Use |
|:-----|:---------|:------------|
| `detect` | Logs warnings only | Development debugging |
| `redact` | Replaces secrets with `[REDACTED]` | Sharing logs safely |
| `block` | Stops execution immediately | Strict security |

```bash
# Redact secrets in output
dotset ci test --mode redact > ci-logs.txt

# Stop if any leak detected
dotset ci deploy --mode block --scope prod
```

### What's Monitored

Gluon monitors:
- **stdout** - All standard output from CI steps
- **stderr** - All error output
- **Log files** - If steps write to known log paths
- **Environment echoes** - `env` or `printenv` commands

## Cloud Synchronization

Sync your local CI results to the dotset cloud for team visibility and historical tracking.

```bash
# Run and sync to dashboard
dotset ci build test --sync
```

When synchronized:
- **Run status** is visible in the project dashboard
- **Step durations** are tracked for performance analysis
- **Leak summaries** are reported to the security team
- **External Run ID** links local runs to cloud projects

## Unified Configuration

Configure default behavior in your project's `dotset.json`:

```json
{
  "hadron": {
    "enabled": true,
    "defaultScope": "development",
    "defaultMode": "detect",
    "workflowPath": ".github/workflows"
  }
}
```

## Best Practices

### 1. Test Before You Push

Always run CI locally before pushing:

```bash
# Quick validation
dotset ci build test --dry-run

# Full run
dotset ci build test
```

### 2. Match Production

Use production-like settings when debugging production issues:

```bash
dotset ci deploy --scope prod --mode block
```

### 3. Protect Your Logs

When sharing CI output, always use redact mode:

```bash
dotset ci test --mode redact 2>&1 | tee ci-output.txt
```
