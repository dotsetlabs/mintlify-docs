---
title: Secrets
description: 'How secrets work in shield'
---

# Secrets Management

Shield encrypts secrets locally using industry-standard cryptography.

## How It Works

1. **Local Encryption**: Secrets are encrypted with AES-256-GCM
2. **Key Derivation**: Your project key is derived using Argon2id
3. **Manifest Storage**: Encrypted secrets are stored in `.dotset/manifest.json`
4. **Injection**: At runtime, secrets are decrypted and injected into the process environment

## Adding Secrets

```bash
dotset secrets set DATABASE_URL "postgres://..."
dotset secrets set API_KEY "sk-..."
```

## Listing Secrets

```bash
dotset secrets list
```

Output:
```
Secrets [development]:
  API_KEY
  DATABASE_URL
```

<Note>
Only key names are shown, never values. Values are always encrypted.
</Note>

## Getting a Secret

```bash
dotset secrets get API_KEY
```

## Deleting Secrets

```bash
dotset secrets delete API_KEY
```

## Secret Detection

Shield automatically detects secrets in output using:

1. **Tracked Secrets**: Values you've set with `dotset secrets set`
2. **Pattern Matching**: Common secret formats like API keys, tokens, etc.

### Detected Patterns

- AWS Access Keys (`AKIA...`)
- GitHub Tokens (`ghp_...`, `gho_...`)
- Stripe Keys (`sk_live_...`, `rk_live_...`)
- JWT Tokens
- Private Keys (RSA, EC, ed25519)
- Database Connection Strings
- Generic API Keys
- Bearer Tokens

## File Structure

```
.dotset/
├── key              # Encryption key (NEVER commit)
└── manifest.json    # Encrypted secrets (safe to commit)
```

<Warning>
Always add `.dotset/key` to your `.gitignore`. This file is the only way to decrypt your secrets.
</Warning>
